const registry = [
  {
    id: 1000,
    items: "minecraft:warped_stem",
    tier: "Diamond",
    name: "Warped Stem",
    includedItems: []
  },
  {
    id: 1001,
    items: "minecraft:",
    tier: "Diamond",
    name: "Crimson Stem",
    includedItems: []
  },
  {
    id: 1002,
    items: "minecraft:",
    tier: "Diamond",
    name: "Oak Logs",
    includedItems: []
  },
  {
    id: 1003,
    items: "minecraft:",
    tier: "Diamond",
    name: "Birch Logs",
    includedItems: []
  },
  {
    id: 1004,
    items: "minecraft:",
    tier: "Diamond",
    name: "Jungle Logs",
    includedItems: []
  },
  {
    id: 1005,
    items: "minecraft:",
    tier: "Diamond",
    name: "Dark Oak Logs",
    includedItems: []
  },
  {
    id: 1006,
    items: "minecraft:",
    tier: "Diamond",
    name: "Acacia Logs",
    includedItems: []
  },
  {
    id: 1007,
    items: "minecraft:",
    tier: "Diamond",
    name: "Spruce Logs",
    includedItems: []
  },
  {
    id: 1008,
    items: "minecraft:",
    tier: "Diamond",
    name: "Mangrove Logs",
    includedItems: []
  },
  {
    id: 1009,
    items: "minecraft:",
    tier: "Diamond",
    name: "Cherry Logs",
    includedItems: []
  },
  {
    id: 1010,
    items: "minecraft:",
    tier: "Diamond",
    name: "Tuff & Calcite",
    includedItems: []
  },
  {
    id: 1011,
    items: "minecraft:",
    tier: "Diamond",
    name: "Prismarine",
    includedItems: []
  },
  {
    id: 1012,
    items: "minecraft:",
    tier: "Diamond",
    name: "Muds",
    includedItems: ["Mud", "Packed Mud"]
  },
  {
    id: 1013,
    items: "minecraft:",
    tier: "Diamond",
    name: "Iron",
    includedItems: []
  },
  {
    id: 1014,
    items: "minecraft:",
    tier: "Diamond",
    name: "Gold",
    includedItems: []
  },
  {
    id: 1015,
    items: "minecraft:",
    tier: "Diamond",
    name: "S-Tier Books",
    includedItems: ["Efficiency", "Respiration", "Silk Touch", "Depth Strider", "Soul Speed", "Protection", "Looting", "Mending", "Unbreaking", "Sharpness", "Feather Falling", "Fortune", "Swift Sneak", "Infinity", "Aqua Affinity"]
  },
  {
    id: 1016,
    items: "minecraft:",
    tier: "Diamond",
    name: "All Templates",
    includedItems: []
  },
  {
    id: 1017,
    items: "minecraft:",
    tier: "Diamond",
    name: "All the Food",
    includedItems: []
  },
  {
    id: 1018,
    items: "minecraft:",
    tier: "Diamond",
    name: "Flight Rockets",
    includedItems: []
  },
  {
    id: 1019,
    items: "minecraft:",
    tier: "Diamond",
    name: "Sand & Gravel (+Suspicious)",
    includedItems: ["Sand", "Gravel", "Suspicius Sand", "Suspicious Gravel"]
  },
  {
    id: 1020,
    items: "minecraft:",
    tier: "Diamond",
    name: "Honey & Slime",
    includedItems: []
  },
  {
    id: 1021,
    items: "minecraft:",
    tier: "Diamond",
    name: "All Froglights",
    includedItems: []
  },
  {
    id: 1022,
    items: "minecraft:",
    tier: "Diamond",
    name: "Copper",
    includedItems: []
  },
  {
    id: 1023,
    items: "minecraft:",
    tier: "Diamond",
    name: "Quartz",
    includedItems: []
  },
  {
    id: 1024,
    items: "minecraft:",
    tier: "Diamond",
    name: "All the Dyes & Flowers",
    includedItems: []
  },
  {
    id: 1025,
    items: "minecraft:",
    tier: "Diamond",
    name: "All the Potions",
    includedItems: []
  },
  {
    id: 1026,
    items: "minecraft:",
    tier: "Diamond",
    name: "All the Concrete",
    includedItems: []
  },
  {
    id: 1027,
    items: "minecraft:",
    tier: "Diamond",
    name: "Redstone Collection #1",
    includedItems: ["Redstone", "Repeater", "Comparator", "Torches", "Target Blocks", "Daylight Detectors", "Observers", "Redstone Lamps"]
  },
  {
    id: 1028,
    items: "minecraft:",
    tier: "Diamond",
    name: "Redstone Collection #2",
    includedItems: ["Dispensers", "Droppers", "Hoppers", "Pistons", "Sticky Pistons", "Crafters", "All Sculk Sensors"]
  },
  {
    id: 1029,
    items: "minecraft:",
    tier: "Diamond",
    name: "All the Coral",
    includedItems: "Sea pickles"
  },
  {
    id: 1030,
    items: "minecraft:",
    tier: "Diamond",
    name: "Conduits & Beacons",
    includedItems: []
  },
  {
    id: 1031,
    items: "minecraft:",
    tier: "Diamond",
    name: "Tough Stuff",
    includedItems: ["Obsidian", "Crying Obsidian", "Ancient Debris", "Enderchests", "Respawn Anchors", "Lodestones"]
  },
  {
    id: 1032,
    items: "minecraft:",
    tier: "Diamond",
    name: "Pale Oak Wood",
    includedItems: []
  },
  {
    id: 1033,
    items: "minecraft:",
    tier: "Diamond",
    name: "Mekanism tools",
    includedItems: []
  },
  {
    id: 1034,
    items: "minecraft:",
    tier: "Diamond",
    name: "Create machines",
    includedItems: []
  },
  {
    id: 1035,
    items: "minecraft:",
    tier: "Diamond",
    name: "Create andesite alloy",
    includedItems: []
  },
  {
    id: 1036,
    items: "#wools",
    tier: "Diamond",
    name: "All wool",
    includedItems: []
  },
  {
    id: 2000,
    items: "",
    tier: "Gold",
    name: "Honeycomb",
    includedItems: []
  },
  {
    id: 2001,
    items: "",
    tier: "Gold",
    name: "Deepslate",
    includedItems: []
  },
  {
    id: 2002,
    items: "",
    tier: "Gold",
    name: "Moss",
    includedItems: []
  },
  {
    id: 2003,
    items: "",
    tier: "Gold",
    name: "All the Horns",
    includedItems: []
  },
  {
    id: 2004,
    items: "",
    tier: "Gold",
    name: "Nametags",
    includedItems: []
  },
  {
    id: 2005,
    items: "",
    tier: "Gold",
    name: "All Music Discs",
    includedItems: []
  },
  {
    id: 2006,
    items: "",
    tier: "Gold",
    name: "Tinted Glass",
    includedItems: []
  },
  {
    id: 2007,
    items: "",
    tier: "Gold",
    name: "Shroomlights",
    includedItems: []
  },
  {
    id: 2008,
    items: "",
    tier: "Gold",
    name: "Elytra",
    includedItems: []
  },
  {
    id: 2009,
    items: "",
    tier: "Gold",
    name: "Rooted Dirt",
    includedItems: []
  },
  {
    id: 2010,
    items: "",
    tier: "Gold",
    name: "Blaze Rods",
    includedItems: []
  },
  {
    id: 2011,
    items: "",
    tier: "Gold",
    name: "Sponge",
    includedItems: []
  },
  {
    id: 2012,
    items: "",
    tier: "Gold",
    name: "Glow Lichen",
    includedItems: []
  },
  {
    id: 2013,
    items: "",
    tier: "Gold",
    name: "Shulker Boxes",
    includedItems: []
  },
  {
    id: 2014,
    items: "",
    tier: "Gold",
    name: "Glass",
    includedItems: []
  },
  {
    id: 2015,
    items: "",
    tier: "Gold",
    name: "All Kelp",
    includedItems: []
  },
  {
    id: 2016,
    items: "",
    tier: "Gold",
    name: "Candles",
    includedItems: []
  },
  {
    id: 2017,
    items: "",
    tier: "Gold",
    name: "Tridents",
    includedItems: []
  },
  {
    id: 2018,
    items: "",
    tier: "Gold",
    name: "Emerald Blocks",
    includedItems: []
  },
  {
    id: 2019,
    items: "",
    tier: "Gold",
    name: "All Mushroom Blocks",
    includedItems: []
  },
  {
    id: 2020,
    items: "",
    tier: "Gold",
    name: "Pots and Sherds",
    includedItems: []
  },
  {
    id: 2021,
    items: "",
    tier: "Gold",
    name: "All the Leaves",
    includedItems: []
  },
  {
    id: 2022,
    items: "",
    tier: "Gold",
    name: "Explosive Fireworks",
    includedItems: []
  },
  {
    id: 2023,
    items: "",
    tier: "Gold",
    name: "TNT",
    includedItems: []
  },
  {
    id: 2024,
    items: "",
    tier: "Gold",
    name: "Mid Tier Books",
    includedItems: ["Loyalty", "Projectile Protection", "Impaling", "Fire Protection", "Blast Protection", "Smite", "Sweeping Edge", "Thorns", "Power"]
  },
  {
    id: 2025,
    items: "",
    tier: "Gold",
    name: "All Item Frames",
    includedItems: []
  },
  {
    id: 2026,
    items: "",
    tier: "Gold",
    name: "Glow Ink Sacs",
    includedItems: []
  },
  {
    id: 2027,
    items: "",
    tier: "Gold",
    name: "Bamboo",
    includedItems: []
  },
  {
    id: 2028,
    items: "",
    tier: "Gold",
    name: "Granite",
    includedItems: []
  },
  {
    id: 2029,
    items: "",
    tier: "Gold",
    name: "Diorite",
    includedItems: []
  },
  {
    id: 2030,
    items: "",
    tier: "Gold",
    name: "Andesite",
    includedItems: []
  },
  {
    id: 2031,
    items: "",
    tier: "Gold",
    name: "Bricks",
    includedItems: []
  },
  {
    id: 2032,
    items: "",
    tier: "Gold",
    name: "Blackstone",
    includedItems: []
  },
  {
    id: 2033,
    items: "",
    tier: "Gold",
    name: "Coarse Dirt",
    includedItems: []
  },
  {
    id: 2034,
    items: "",
    tier: "Gold",
    name: "All Ice",
    includedItems: []
  },
  {
    id: 2035,
    items: "",
    tier: "Gold",
    name: "Sculk & Sculk Veins",
    includedItems: []
  },
  {
    id: 2036,
    items: "",
    tier: "Gold",
    name: "Bone Blocks",
    includedItems: []
  },
  {
    id: 2037,
    items: "",
    tier: "Gold",
    name: "Stamps",
    includedItems: []
  },
  {
    id: 2038,
    items: "",
    tier: "Gold",
    name: "Mace & Heavy Core",
    includedItems: []
  },
  {
    id: 2039,
    items: "",
    tier: "Gold",
    name: "Trial Chambers",
    includedItems: []
  },
  {
    id: 2040,
    items: "",
    tier: "Gold",
    name: "All Resin Blocks",
    includedItems: []
  },
  {
    id: 2041,
    items: "",
    tier: "Gold",
    name: "Terracotta",
    includedItems: []
  },
  {
    id: 2042,
    items: "",
    tier: "Gold",
    name: "Mekanism Cables",
    includedItems: []
  },
  {
    id: 2043,
    items: "",
    tier: "Gold",
    name: "Mekanism machines",
    includedItems: []
  },
  {
    id: 2044,
    items: "",
    tier: "Gold",
    name: "Makanism generators",
    includedItems: []
  },
  {
    id: 2045,
    items: "",
    tier: "Gold",
    name: "Create tools",
    includedItems: []
  },
  {
    id: 3000,
    items: "",
    tier: "Iron",
    name: "Glowstone",
    includedItems: []
  },
  {
    id: 3001,
    items: "",
    tier: "Iron",
    name: "Grass Block",
    includedItems: []
  },
  {
    id: 3002,
    items: "",
    tier: "Iron",
    name: "Gilded Blackstone",
    includedItems: []
  },
  {
    id: 3003,
    items: "",
    tier: "Iron",
    name: "All Banners & Patterns",
    includedItems: []
  },
  {
    id: 3004,
    items: "",
    tier: "Iron",
    name: "Coal",
    includedItems: []
  },
  {
    id: 3005,
    items: "",
    tier: "Iron",
    name: "Bottle of Enchanting",
    includedItems: []
  },
  {
    id: 3006,
    items: "",
    tier: "Iron",
    name: "Cobwebs",
    includedItems: []
  },
  {
    id: 3007,
    items: "",
    tier: "Iron",
    name: "Magma",
    includedItems: []
  },
  {
    id: 3008,
    items: "",
    tier: "Iron",
    name: "Stone",
    includedItems: []
  },
  {
    id: 3009,
    items: "",
    tier: "Iron",
    name: "Totem of Undying",
    includedItems: []
  },
  {
    id: 3010,
    items: "",
    tier: "Iron",
    name: "Cobble",
    includedItems: []
  },
  {
    id: 3011,
    items: "",
    tier: "Iron",
    name: "Purpur and Chorus Fruit",
    includedItems: []
  },
  {
    id: 3012,
    items: "",
    tier: "Iron",
    name: "All Amethyst",
    includedItems: []
  },
  {
    id: 3013,
    items: "",
    tier: "Iron",
    name: "All Nether Bricks",
    includedItems: []
  },
  {
    id: 3014,
    items: "",
    tier: "Iron",
    name: "Podzol & Mycelium",
    includedItems: []
  },
  {
    id: 3015,
    items: "",
    tier: "Iron",
    name: "All Basalt",
    includedItems: []
  },
  {
    id: 3016,
    items: "",
    tier: "Iron",
    name: "Soul Sand & Soul Soil",
    includedItems: []
  },
  {
    id: 3017,
    items: "",
    tier: "Iron",
    name: "Cut Grass",
    includedItems: []
  },
  {
    id: 3018,
    items: "",
    tier: "Iron",
    name: "Nylium",
    includedItems: []
  },
  {
    id: 3019,
    items: "",
    tier: "Iron",
    name: "Wart Blocks",
    includedItems: []
  },
  {
    id: 3020,
    items: "",
    tier: "Iron",
    name: "All Nether Plants",
    includedItems: []
  },
  {
    id: 3021,
    items: "",
    tier: "Iron",
    name: "F Tier Books",
    includedItems: ["Luck of The Sea", "Curse of Binding", "Flame", "Punch", "Channeling", "Quick Charge", "Curse of Vanishing", "Piercing", "Lure", "Frost Walker", "Multishot", "Riptide", "Fire Aspect", "Bane of Anthropods", "Knockback"]
  },
  {
    id: 3022,
    items: "",
    tier: "Iron",
    name: "Bucket of Lava",
    includedItems: []
  },
  {
    id: 3023,
    items: "",
    tier: "Iron",
    name: "All the Bucket Mobs",
    includedItems: []
  },
  {
    id: 3024,
    items: "",
    tier: "Iron",
    name: "All the Horse Armour",
    includedItems: []
  },
  {
    id: 3025,
    items: "",
    tier: "Iron",
    name: "Book & Quill",
    includedItems: []
  },
  {
    id: 3026,
    items: "",
    tier: "Iron",
    name: "Spore Blossom",
    includedItems: []
  },
  {
    id: 3027,
    items: "",
    tier: "Iron",
    name: "Clay",
    includedItems: []
  },
  {
    id: 3028,
    items: "",
    tier: "Iron",
    name: "Leads & Bundles",
    includedItems: []
  },
  {
    id: 3029,
    items: "",
    tier: "Iron",
    name: "Dirt",
    includedItems: []
  },
  {
    id: 3030,
    items: "",
    tier: "Iron",
    name: "End Rods",
    includedItems: []
  },
  {
    id: 3031,
    items: "",
    tier: "Iron",
    name: "All Dripstone",
    includedItems: []
  },
  {
    id: 3032,
    items: "",
    tier: "Iron",
    name: "Mossy Cobble",
    includedItems: []
  },
  {
    id: 3033,
    items: "",
    tier: "Iron",
    name: "Bee Nests & Bee Hives",
    includedItems: []
  },
  {
    id: 3034,
    items: "",
    tier: "Iron",
    name: "Vines",
    includedItems: []
  },
  {
    id: 3035,
    items: "",
    tier: "Iron",
    name: "Saddles",
    includedItems: []
  },
  {
    id: 3036,
    items: "",
    tier: "Iron",
    name: "Red Sand Products",
    includedItems: []
  },
  {
    id: 3037,
    items: "",
    tier: "Iron",
    name: "Fern",
    includedItems: []
  },
  {
    id: 3038,
    items: "",
    tier: "Iron",
    name: "Glow Berries",
    includedItems: []
  },
  {
    id: 3039,
    items: "",
    tier: "Iron",
    name: "All Rails",
    includedItems: []
  },
  {
    id: 3040,
    items: "",
    tier: "Iron",
    name: "Hay Bales",
    includedItems: []
  },
  {
    id: 3041,
    items: "",
    tier: "Iron",
    name: "Snow & Powder Snow",
    includedItems: []
  },
  {
    id: 3042,
    items: "",
    tier: "Iron",
    name: "All Campfires",
    includedItems: []
  },
  {
    id: 3043,
    items: "",
    tier: "Iron",
    name: "Big & Small Dripleaf",
    includedItems: []
  },
  {
    id: 3044,
    items: "",
    tier: "Iron",
    name: "Lily Pads",
    includedItems: []
  },
  {
    id: 3045,
    items: "",
    tier: "Iron",
    name: "Regular Bookshelves",
    includedItems: []
  },
  {
    id: 3046,
    items: "",
    tier: "Iron",
    name: "Chiseled Bookshelves",
    includedItems: []
  },
  {
    id: 3047,
    items: "",
    tier: "Iron",
    name: "End Crystal",
    includedItems: []
  },
  {
    id: 3048,
    items: "",
    tier: "Iron",
    name: "String",
    includedItems: []
  },
  {
    id: 3049,
    items: "",
    tier: "Iron",
    name: "Endstone",
    includedItems: []
  }
];

StartupEvents.registry('item', (event) => {
  for (const item of registry) {
    event.create(`permit_${item.id}`)
      .displayName(`Permit: ${item.name}`)
      .parentModel(tierModelMap[item.tier])
      .unstackable()
      .rarity(rarityMap[item.tier])
      .tag('c20:permits')
      ;
  }

  // Add item to the permit list
  event.create('permit_diamond').unstackable().displayName('Diamond Permit').rarity("epic");
  event.create('permit_gold').unstackable().displayName('Gold Permit').rarity("rare");
  event.create('permit_iron').unstackable().displayName('Iron Permit').rarity("uncommon");
});

ItemEvents.modification(event => {
  for (const registry_item of registry) {
    event.modify(`kubejs:permit_${registry_item.id}`, item => {
      item.setCustomName(`§${tierColorMap[registry_item.tier]}Permit: ${registry_item.name}`);

      const lore = [];

      if (registry_item.includedItems && registry_item.includedItems.length > 0) {
        lore.push("");
        lore.push("§7Includes:");

        for (let i = 0; i < registry_item.includedItems.length; i++) {
          lore.push(`§7- ${registry_item.includedItems[i]}`);
        }
      }

      lore.push("");
      lore.push(`§8[${registry_item.tier} | #${registry_item.id}]`);

      item.setLore(lore);
    });
  }
});

const rarityMap = {
  Diamond: 'epic',
  Gold: 'rare',
  Iron: 'uncommon'
};

const tierModelMap = {
  Diamond: 'kubejs:item/permit_diamond',
  Gold: 'kubejs:item/permit_gold',
  Iron: 'kubejs:item/permit_iron'
}

const tierColorMap = {
  Diamond: 'b',
  Gold: 'e',
  Iron: 'f'
};